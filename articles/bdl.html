<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="bdl">
<title>Downloading and using data from bdl • bdl</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Downloading and using data from bdl">
<meta property="og:description" content="bdl">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">bdl</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.5</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item">
  <a class="nav-link" href="../articles/bdl.html">Get started</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/statisticspoland/R_Package_to_API_BDL/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Downloading and using data from bdl</h1>
                        <h4 data-toc-skip class="author">Krzysztof
Kania</h4>
            
            <h4 data-toc-skip class="date">2023-02-24</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/statisticspoland/R_Package_to_API_BDL/blob/HEAD/vignettes/bdl.Rmd" class="external-link"><code>vignettes/bdl.Rmd</code></a></small>
      <div class="d-none name"><code>bdl.Rmd</code></div>
    </div>

    
    
<p>The <code>bdl</code> package is an interface to Local Data Bank(Bank
Danych Lokalnych - bdl) <a href="https://api.stat.gov.pl/Home/BdlApi?lang=en" class="external-link">API</a> with a set of
useful tools like quick plotting using data from the data bank.</p>
<div class="section level2">
<h2 id="intro">Intro<a class="anchor" aria-label="anchor" href="#intro"></a>
</h2>
<p>Working with <code>bdl</code> is based on id codes. Most of the data
downloading functions require specifying one or vector of multiple unit
or variable ids as a string.</p>
<p>It is recommended to use a private API key which u can get <a href="https://api.stat.gov.pl/Home/BdlApi?lang=en" class="external-link">here</a>. To apply it
use: <code>options(bdl.api_private_key ="your_key")</code></p>
<p>Also, every function returns data in Polish by default. If you would
like to get data in English, just add <code>lang = "en"</code> to any
function.</p>
<p>Any metadata information (unit levels, aggregates, NUTS code
explanation, etc.) can be found <a href="https://bdl.stat.gov.pl/BDL/metadane" class="external-link">here</a>.</p>
</div>
<div class="section level2">
<h2 id="searching-unit-id">Searching unit id<a class="anchor" aria-label="anchor" href="#searching-unit-id"></a>
</h2>
<p>When searching for unit id, we can use two methods:</p>
<ul>
<li>Direct search <code><a href="../reference/search_units.html">search_units()</a></code>
</li>
<li>Tree listing by <code><a href="../reference/get_units.html">get_units()</a></code>
</li>
</ul>
<p>Units consist of 6 levels:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/get_levels.html">get_levels</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p>The lowest - seventh level has its own separate functions with suffix
<code>localities</code>. Warning - the <code>localities</code> functions
have a different set of arguments. Check package or API documentation
for more info.</p>
<div class="section level3">
<h3 id="direct-search">Direct search<a class="anchor" aria-label="anchor" href="#direct-search"></a>
</h3>
<p>Direct searching <code><a href="../reference/search_units.html">search_units()</a></code> takes couple different
arguments like:</p>
<ul>
<li>
<code>name</code> - required search phrase (can be empty
string)</li>
<li>
<code>level</code> - narrows returned units to given level</li>
</ul>
<p>and more. To look for more arguments on any given function check
package or API documentation.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/search_units.html">search_units</a></span><span class="op">(</span>name <span class="op">=</span> <span class="st">"wro"</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/search_units.html">search_units</a></span><span class="op">(</span>name <span class="op">=</span> <span class="st">""</span>, level <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="tree-listing">Tree listing<a class="anchor" aria-label="anchor" href="#tree-listing"></a>
</h3>
<p>To get all units available in local data bank run
<code><a href="../reference/get_units.html">get_units()</a></code> without any argument(warning - it can eat data
limit very fast around 4.5k rows):</p>
<p>To narrow the list add <code>unitParentId</code>. The function will
return all children units for a given parent at all levels. Add
<code>level</code> argument to filter units even further.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/get_units.html">get_units</a></span><span class="op">(</span>parentId <span class="op">=</span> <span class="st">"000000000000"</span>, level <span class="op">=</span> <span class="fl">5</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="searching-subject-and-variable-id">Searching subject and variable id<a class="anchor" aria-label="anchor" href="#searching-subject-and-variable-id"></a>
</h2>
<p>Subjects are themed directories of variables.</p>
<p>We have two searching methods for both subjects and variables:</p>
<ul>
<li>Direct search <code><a href="../reference/search_variables.html">search_variables()</a></code> and
<code><a href="../reference/search_subjects.html">search_subjects()</a></code>
</li>
<li>Subject tree listing by <code><a href="../reference/get_subjects.html">get_subjects()</a></code> and
<code><a href="../reference/get_variables.html">get_variables()</a></code>
</li>
</ul>
<div class="section level3">
<h3 id="subjects">Subjects<a class="anchor" aria-label="anchor" href="#subjects"></a>
</h3>
<p>To directly search for subject we just provide search phrase:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/search_subjects.html">search_subjects</a></span><span class="op">(</span><span class="st">"lud"</span><span class="op">)</span></span></code></pre></div>
<p>Subjects consist of 3 levels (categories, groups, subgroups) -
<code>K</code>, <code>G</code> and <code>P</code> respectively. The
fourth level of the subject (child of a subgroup) would be
variables.</p>
<p>To list all top level subjects use <code><a href="../reference/get_subjects.html">get_subjects()</a></code>:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/get_subjects.html">get_subjects</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p>To list sub-subjects to given category or group use
<code><a href="../reference/get_subjects.html">get_subjects()</a></code> with <code>parentId</code> argument:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/get_subjects.html">get_subjects</a></span><span class="op">(</span>parentId <span class="op">=</span> <span class="st">"K3"</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/get_subjects.html">get_subjects</a></span><span class="op">(</span>parentId <span class="op">=</span> <span class="st">"G7"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="variables">Variables<a class="anchor" aria-label="anchor" href="#variables"></a>
</h3>
<p>Firstly you can list variables for given subject (subgroup):</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/get_variables.html">get_variables</a></span><span class="op">(</span><span class="st">"P2425"</span><span class="op">)</span></span></code></pre></div>
<p>Secondly, you can direct search variables with
<code><a href="../reference/search_variables.html">search_variables()</a></code>. You can use an empty string as
<code>name</code> to list all variables but I strongly advise against as
it has around 40 000 rows and you will probably hit data limit.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/search_variables.html">search_variables</a></span><span class="op">(</span><span class="st">"samochod"</span><span class="op">)</span></span></code></pre></div>
<p>You can narrow the search to the given subject - subgroup:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/search_variables.html">search_variables</a></span><span class="op">(</span><span class="st">"lud"</span>, subjectId <span class="op">=</span> <span class="st">"P2425"</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="downloading-data">Downloading data<a class="anchor" aria-label="anchor" href="#downloading-data"></a>
</h2>
<p>If you picked unit and variable codes, you are ready to download
data. You can do this two ways:</p>
<ul>
<li>Download data of multiple variables for a single unit
<code><a href="../reference/get_data_by_unit.html">get_data_by_unit()</a></code>
</li>
<li>Download data of single variable for multiple units
<code><a href="../reference/get_data_by_variable.html">get_data_by_variable()</a></code>
</li>
</ul>
<div class="section level3">
<h3 id="single-unit-multiple-variables">Single unit, multiple variables<a class="anchor" aria-label="anchor" href="#single-unit-multiple-variables"></a>
</h3>
<p>We will use <code><a href="../reference/get_data_by_unit.html">get_data_by_unit()</a></code>. We specify our single
unit as <code>unitId</code> string argument and variables by a vector of
strings. Optionally we can specify years of data. If not all available
years are used.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/get_data_by_unit.html">get_data_by_unit</a></span><span class="op">(</span>unitId <span class="op">=</span> <span class="st">"023200000000"</span>, varId <span class="op">=</span>  <span class="st">"3643"</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/get_data_by_unit.html">get_data_by_unit</a></span><span class="op">(</span>unitId <span class="op">=</span> <span class="st">"023200000000"</span>, varId <span class="op">=</span>  <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"3643"</span>, <span class="st">"2137"</span>, <span class="st">"148190"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>To get more information about data we can add <code>type</code>
argument and set it to <code>"label"</code> to add an additional column
with the variable info.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/get_data_by_unit.html">get_data_by_unit</a></span><span class="op">(</span>unitId <span class="op">=</span> <span class="st">"023200000000"</span>, varId <span class="op">=</span> <span class="st">"3643"</span>, type <span class="op">=</span> <span class="st">"label"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="multiple-units-single-variable">Multiple units, single variable<a class="anchor" aria-label="anchor" href="#multiple-units-single-variable"></a>
</h3>
<p>We will use <code><a href="../reference/get_data_by_variable.html">get_data_by_variable()</a></code>. We specify our
single variable as <code>varId</code> string argument. If no
<code>unitParentId</code> is provided, the function will return all
available units for a given variable. Setting <code>unitParentId</code>
will return all available children units (on all levels). To narrow unit
level set <code>unitLevel</code>. Optionally we can specify years of
data. If not all available years are used.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/get_data_by_variable.html">get_data_by_variable</a></span><span class="op">(</span><span class="st">"420"</span>, unitParentId <span class="op">=</span> <span class="st">"011210000000"</span>, year <span class="op">=</span> <span class="fl">2013</span><span class="op">:</span><span class="fl">2016</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/get_data_by_variable.html">get_data_by_variable</a></span><span class="op">(</span><span class="st">"420"</span>, unitLevel <span class="op">=</span> <span class="st">"2"</span>, year <span class="op">=</span> <span class="fl">2013</span><span class="op">:</span><span class="fl">2016</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="useful-tools">Useful tools<a class="anchor" aria-label="anchor" href="#useful-tools"></a>
</h2>
<p>The <code>bdl</code> package provides a couple of additional
functions for summarizing and visualizing data.</p>
<div class="section level3">
<h3 id="summary">Summary<a class="anchor" aria-label="anchor" href="#summary"></a>
</h3>
<p>Data downloaded via <code><a href="../reference/get_data_by_unit.html">get_data_by_unit()</a></code> or
<code><a href="../reference/get_data_by_variable.html">get_data_by_variable()</a></code> and their locality versions can be
easily summarized by <code><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary()</a></code>:</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_data_by_variable.html">get_data_by_variable</a></span><span class="op">(</span>varId <span class="op">=</span> <span class="st">"3643"</span>, unitParentId <span class="op">=</span> <span class="st">"010000000000"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="plotting">Plotting<a class="anchor" aria-label="anchor" href="#plotting"></a>
</h3>
<p>Plotting functions in this package are interfaces to the data
downloading functions. Some of them require specifying
<code>data_type</code> - a method for downloading data, and the rest of
the arguments will be relevant to specify <code>data_type</code>
function. Check documentation for more details.</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/line_plot.html">line_plot</a></span><span class="op">(</span>data_type <span class="op">=</span> <span class="st">"unit"</span>, unitId <span class="op">=</span> <span class="st">"000000000000"</span>, varId <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"415"</span>,<span class="st">"420"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/pie_plot.html">pie_plot</a></span><span class="op">(</span>data_type <span class="op">=</span><span class="st">"variable"</span> ,<span class="st">"1"</span>, <span class="st">"2018"</span>,unitParentId<span class="op">=</span><span class="st">"042214300000"</span>, unitLevel <span class="op">=</span> <span class="st">"6"</span><span class="op">)</span></span></code></pre></div>
<p>Scatter plot is unique - requires vector of only 2 variables.</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/scatter_2var_plot.html">scatter_2var_plot</a></span><span class="op">(</span>data_type <span class="op">=</span><span class="st">"variable"</span> ,<span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"60559"</span>,<span class="st">"415"</span><span class="op">)</span>, unitLevel <span class="op">=</span> <span class="st">"2"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="map-generation">Map generation<a class="anchor" aria-label="anchor" href="#map-generation"></a>
</h3>
<p>The <code>bdl</code> package comes with the <code>bdl.maps</code>
dataset containing spatial maps for each Poland’s level.
<code><a href="../reference/generate_map.html">generate_map()</a></code> use them to generate maps filled with the
bdl data. Use <code>unitLevel</code> to change the type of map. When the
lower level is chosen, the map generation can be more time consuming as
it has more spatial data to process. This function will download and
load maps automatically. In case of any errors you can download them
manually <a href="https://github.com/statisticspoland/R_Package_to_API_BDL/releases/tag/1.0.4" class="external-link">here</a>.</p>
<p>Download data file and double-click to load it to environment.</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/generate_map.html">generate_map</a></span><span class="op">(</span>varId <span class="op">=</span> <span class="st">"60559"</span>, year <span class="op">=</span> <span class="st">"2017"</span>, unitLevel <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="multi-download">Multi download<a class="anchor" aria-label="anchor" href="#multi-download"></a>
</h3>
<p>Downloading functions <code><a href="../reference/get_data_by_unit.html">get_data_by_unit()</a></code> and
<code><a href="../reference/get_data_by_variable.html">get_data_by_variable()</a></code> have alternative “multi” downloading
mode. Function that would work for example single unit, if provided a
vector will make additional column with values for each unit
provided:</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/get_data_by_unit.html">get_data_by_unit</a></span><span class="op">(</span>unitId <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"023200000000"</span>, <span class="st">"020800000000"</span><span class="op">)</span>, varId <span class="op">=</span>  <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"3643"</span>, <span class="st">"2137"</span>, <span class="st">"148190"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>Or multiple variables for <code><a href="../reference/get_data_by_variable.html">get_data_by_variable()</a></code>:</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/get_data_by_variable.html">get_data_by_variable</a></span><span class="op">(</span>varId <span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"3643"</span>,<span class="st">"420"</span><span class="op">)</span>, unitParentId <span class="op">=</span> <span class="st">"010000000000"</span><span class="op">)</span></span></code></pre></div>
<p>This mode works for the locality version as well.</p>
<p>More consistent method of downloading multiple variables for multiple
units is provided by <code><a href="../reference/get_panel_data.html">get_panel_data()</a></code> function:</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/get_panel_data.html">get_panel_data</a></span><span class="op">(</span>unitId <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"030210101000"</span>, <span class="st">"030210105000"</span>, <span class="st">"030210106000"</span><span class="op">)</span>, varId <span class="op">=</span>  <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"60270"</span>, <span class="st">"461668"</span><span class="op">)</span>, year <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2015</span><span class="op">:</span><span class="fl">2016</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>It offers also parameter <code>ggplot = TRUE</code> which produces
output in the long form suitable for plotting with ggplot package:</p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span>
<span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_panel_data.html">get_panel_data</a></span><span class="op">(</span>unitId <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"030210101000"</span>, <span class="st">"030210105000"</span>, <span class="st">"030210106000"</span><span class="op">)</span>, varId <span class="op">=</span>  <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"60270"</span>, <span class="st">"461668"</span><span class="op">)</span>, year <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2015</span><span class="op">:</span><span class="fl">2018</span><span class="op">)</span>, ggplot <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">df</span>,<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">year</span>, y<span class="op">=</span> <span class="va">values</span>, color <span class="op">=</span> <span class="va">unit</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html" class="external-link">geom_line</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>linetype <span class="op">=</span> <span class="va">variables</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_colour_discrete.html" class="external-link">scale_color_discrete</a></span><span class="op">(</span>labels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"A"</span>, <span class="st">"B"</span>, <span class="st">"C"</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_linetype.html" class="external-link">scale_linetype_discrete</a></span><span class="op">(</span>labels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"X"</span>, <span class="st">"Y"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Marzena Szpadel, Krzysztof Kania, Statistics Poland.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
